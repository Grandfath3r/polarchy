#!/bin/bash
set -e

# Attempt to reinstall all default Polarchy packages and reset all the default configs.

echo -e "This will reinstall all the default Polarchy packages and reset all default configs.\nWarning: All user changes to configs will be lost.\n"

if gum confirm "Are you sure you want to reinstall and lose all config changes?"; then
  polarchy-reinstall-git
  polarchy-reinstall-pkgs
  polarchy-reinstall-configs

  gum confirm "System has been reinstalled. Reboot?" && polarchy-cmd-reboot
fi
